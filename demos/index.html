<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marzipano Demos | Comprehensive Demo Gallery</title>
  <meta name="description" content="Comprehensive gallery of Marzipano 360Â° viewer demos">
  <link rel="stylesheet" href="common/reset.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%);
      color: #fff;
      padding: 40px 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 60px;
    }

    h1 {
      font-size: 48px;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
    }

    .subtitle {
      font-size: 20px;
      color: #aaa;
      font-weight: 300;
      margin-bottom: 20px;
    }

    .search-box {
      max-width: 500px;
      margin: 0 auto;
      position: relative;
    }

    .search-box input {
      width: 100%;
      padding: 12px 20px;
      border-radius: 25px;
      border: 2px solid rgba(102, 126, 234, 0.3);
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 16px;
    }

    .search-box input::placeholder {
      color: #888;
    }

    .search-box input:focus {
      outline: none;
      border-color: #667eea;
    }

    .category-filter {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 30px 0;
    }

    .filter-btn {
      padding: 8px 16px;
      background: rgba(102, 126, 234, 0.2);
      color: #667eea;
      border: 1px solid #667eea;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }

    .filter-btn:hover,
    .filter-btn.active {
      background: #667eea;
      color: white;
    }

    .category-section {
      margin-bottom: 60px;
    }

    .category-title {
      font-size: 28px;
      margin-bottom: 30px;
      color: #667eea;
      border-bottom: 2px solid rgba(102, 126, 234, 0.3);
      padding-bottom: 10px;
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 30px;
    }

    .demo-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 25px;
      transition: all 0.3s;
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-decoration: none;
      color: inherit;
      display: block;
      position: relative;
    }

    .demo-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 40px rgba(102, 126, 234, 0.3);
      border-color: #667eea;
    }

    .demo-card.hidden {
      display: none;
    }

    .demo-icon {
      font-size: 40px;
      margin-bottom: 15px;
    }

    .demo-card h3 {
      font-size: 20px;
      margin-bottom: 10px;
      color: #fff;
    }

    .demo-card p {
      color: #aaa;
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .demo-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .badge.new {
      background: #10b981;
      color: white;
    }

    .badge.es-modules {
      background: #3b82f6;
      color: white;
    }

    .badge.experimental {
      background: #f59e0b;
      color: white;
    }

    .demo-features {
      list-style: none;
      font-size: 12px;
      color: #888;
      margin-top: 10px;
    }

    .demo-features li {
      padding: 3px 0;
      padding-left: 18px;
      position: relative;
    }

    .demo-features li:before {
      content: "âœ“";
      position: absolute;
      left: 0;
      color: #66ea7e;
    }

    footer {
      text-align: center;
      padding: 40px 20px;
      color: #666;
      font-size: 14px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      margin-top: 60px;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 36px;
      }

      .demo-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸŽ¬ Marzipano Demo Gallery</h1>
      <p class="subtitle">Interactive demos showcasing 360Â° viewer capabilities</p>
      
      <div class="search-box">
        <input type="text" id="search-input" placeholder="Search demos by name or feature...">
      </div>

      <div class="category-filter">
        <button class="filter-btn active" data-category="all">All</button>
        <button class="filter-btn" data-category="basic">Basic</button>
        <button class="filter-btn" data-category="advanced">Advanced</button>
        <button class="filter-btn" data-category="interactivity">Interactivity</button>
        <button class="filter-btn" data-category="performance">Performance</button>
        <button class="filter-btn" data-category="utilities">Utilities</button>
        <button class="filter-btn" data-category="experimental">Experimental</button>
      </div>
    </header>

    <div id="demos-container">
      <!-- Demos will be inserted here by JavaScript -->
    </div>

    <footer>
      <p>Marzipano - A 360Â° media viewer for the modern web</p>
      <p>Â© 2025 Marzipano Contributors | Apache License 2.0</p>
    </footer>
  </div>

  <script type="module">
    const demos = [
      // Basic Examples
      { name: 'Equirectangular', path: 'equirect/', category: 'basic', icon: 'ðŸŒ', description: 'Display an equirectangular panorama', features: ['Equirect geometry', 'Single image'], badges: ['es-modules'] },
      { name: 'Cube Single Res', path: 'cube-single-res/', category: 'basic', icon: 'ðŸ“¦', description: 'Single-resolution cubemap panorama', features: ['Cube geometry', 'Basic setup'], badges: ['es-modules'] },
      { name: 'Cube Multi Res', path: 'cube-multi-res/', category: 'basic', icon: 'ðŸ“¦', description: 'Multi-resolution cubemap with progressive loading', features: ['Progressive rendering', 'Multiple levels'], badges: ['es-modules'] },
      { name: 'Flat', path: 'flat/', category: 'basic', icon: 'ðŸ–¼ï¸', description: 'Flat/panoramic image viewer', features: ['Flat geometry', 'Letterbox view'], badges: ['es-modules'] },
      
      // Advanced Features
      { name: '360Â° Video', path: 'video-360/', category: 'advanced', icon: 'ðŸŽ¬', description: 'Play 360Â° videos with VideoSource API', features: ['VideoSource', 'Frame-accurate rendering', 'Media time events'], badges: ['es-modules', 'new'] },
      { name: 'Spatial Audio', path: 'spatial-audio/', category: 'advanced', icon: 'ðŸŽ§', description: '3D positional audio with AudioAnchor', features: ['HRTF spatialization', 'Distance attenuation'], badges: ['es-modules', 'new'] },
      { name: 'WebXR Immersive', path: 'webxr-immersive/', category: 'advanced', icon: 'ðŸ¥½', description: 'Experience panoramas in VR with WebXR', features: ['Immersive VR', 'Controller input'], badges: ['es-modules', 'new'] },
      { name: 'Video Player', path: 'video/', category: 'advanced', icon: 'ðŸ“¹', description: 'Basic video playback in panorama', features: ['Video assets', 'Dynamic textures'], badges: ['es-modules'] },
      
      // Interactivity
      { name: 'Hotspots v2', path: 'hotspots-v2/', category: 'interactivity', icon: 'ðŸŽ¯', description: 'Enhanced hotspots with advanced features', features: ['Z-index layering', 'Occlusion modes', 'ARIA labels'], badges: ['es-modules', 'new'] },
      { name: 'Hotspot Styles', path: 'hotspot-styles/', category: 'interactivity', icon: 'âœ¨', description: 'Various hotspot styling examples', features: ['Custom styles', 'Multiple types'], badges: [] },
      { name: 'Embedded Hotspots', path: 'embedded-hotspots/', category: 'interactivity', icon: 'ðŸ”—', description: 'Hotspots with embedded content', features: ['Iframe support', 'Dynamic content'], badges: ['es-modules'] },
      { name: 'Scene Transitions', path: 'transitions-v2/', category: 'interactivity', icon: 'âœ¨', description: 'Smooth scene transitions with effects', features: ['Crossfade', 'Zoom morph', 'Orbit'], badges: ['es-modules', 'new'] },
      { name: 'Transitions', path: 'transitions/', category: 'interactivity', icon: 'ðŸ”„', description: 'Custom transition animations', features: ['Custom easing', 'Multiple effects'], badges: ['es-modules'] },
      { name: 'Sample Tour', path: 'sample-tour/', category: 'interactivity', icon: 'ðŸ—ºï¸', description: 'Complete virtual tour example', features: ['Multiple scenes', 'Navigation', 'Info hotspots'], badges: [] },
      { name: 'Touch Gestures', path: 'touch-gestures/', category: 'interactivity', icon: 'ðŸ‘†', description: 'Touch and gesture controls', features: ['Hammer.js', 'Multi-touch'], badges: [] },
      
      // Performance
      { name: 'LOD Policy', path: 'lod-policy/', category: 'performance', icon: 'ðŸ“Š', description: 'Level-of-Detail policy configuration', features: ['GPU memory budgets', 'Eviction strategies'], badges: ['es-modules', 'new'] },
      { name: 'Prefetch Strategy', path: 'prefetch-strategy/', category: 'performance', icon: 'âš¡', description: 'Prefetching strategies for smooth navigation', features: ['Motion-based prefetch', 'Cache optimization'], badges: ['es-modules', 'new'] },
      { name: 'Performance Telemetry', path: 'performance-telemetry/', category: 'performance', icon: 'ðŸ“ˆ', description: 'Real-time performance monitoring', features: ['FPS tracking', 'GPU memory', 'Cache stats'], badges: ['es-modules', 'new'] },
      
      // Utilities
      { name: 'Ray Picker', path: 'ray-picker/', category: 'utilities', icon: 'ðŸŽ¯', description: '3D ray picking for interaction', features: ['Screen to world coordinates', 'Visual feedback'], badges: ['es-modules', 'new'] },
      { name: 'Multiple Layers', path: 'multiple-layers/', category: 'utilities', icon: 'ðŸ“š', description: 'Stacking multiple layers in a scene', features: ['Layer opacity', 'Different geometries'], badges: ['es-modules', 'new'] },
      { name: 'Tile Source Adapters', path: 'tile-source-adapters/', category: 'utilities', icon: 'ðŸ”—', description: 'IIIF, DeepZoom, and GoogleMaps adapters', features: ['Custom tile sources', 'Multiple formats'], badges: ['es-modules', 'new'] },
      { name: 'Layer Effects', path: 'layer-effects/', category: 'utilities', icon: 'ðŸŽ¨', description: 'Color and visual effects', features: ['Color correction', 'Effects API'], badges: [] },
      
      // Experimental
      { name: 'WebVR', path: 'webvr/', category: 'experimental', icon: 'ðŸ¥½', description: 'WebVR support (legacy)', features: ['WebVR API', 'Stereoscopic'], badges: ['es-modules', 'experimental'] },
      { name: 'Anaglyph', path: 'anaglyph/', category: 'experimental', icon: 'ðŸ‘“', description: 'Stereoscopic anaglyph display', features: ['Color transform', '3D effect'], badges: ['es-modules'] },
      { name: 'Side by Side', path: 'side-by-side/', category: 'experimental', icon: 'ðŸ‘ï¸', description: 'Side-by-side stereoscopic view', features: ['Dual views', 'Projection center'], badges: ['es-modules'] },
      { name: 'Device Orientation', path: 'device-orientation/', category: 'experimental', icon: 'ðŸ“±', description: 'Control view with device orientation', features: ['Gyroscope', 'Mobile support'], badges: ['es-modules'] },
      { name: 'Editable', path: 'editable/', category: 'experimental', icon: 'âœï¸', description: 'Editable panorama layers', features: ['Drawing', 'Brush tools'], badges: [] },
      { name: 'Fallback Tiles', path: 'fallback-tiles/', category: 'experimental', icon: 'ðŸ”„', description: 'Tile fallback mechanisms', features: ['Parent/child fallbacks', 'Level pinning'], badges: ['es-modules'] },
      { name: 'Hotspot Rect', path: 'hotspot-rect/', category: 'experimental', icon: 'ðŸ“', description: 'Hotspots with rect parameters', features: ['Partial viewport', 'Multiple layers'], badges: ['es-modules'] },
      { name: 'Cube Generated', path: 'cube-generated/', category: 'experimental', icon: 'ðŸŽ²', description: 'Procedurally generated cube tiles', features: ['Custom source', 'Dynamic tiles'], badges: ['es-modules'] },
    ];

    const container = document.getElementById('demos-container');
    const searchInput = document.getElementById('search-input');
    const filterButtons = document.querySelectorAll('.filter-btn');
    let currentCategory = 'all';
    let searchQuery = '';

    function renderDemos() {
      container.innerHTML = '';

      const categories = ['basic', 'advanced', 'interactivity', 'performance', 'utilities', 'experimental'];
      
      categories.forEach(category => {
        const categoryDemos = demos.filter(demo => {
          const matchesCategory = currentCategory === 'all' || demo.category === category;
          const matchesSearch = !searchQuery || 
            demo.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
            demo.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
            demo.features.some(f => f.toLowerCase().includes(searchQuery.toLowerCase()));
          
          return matchesCategory && matchesSearch && demo.category === category;
        });

        if (categoryDemos.length === 0) return;

        const section = document.createElement('div');
        section.className = 'category-section';
        section.innerHTML = `<h2 class="category-title">${category.charAt(0).toUpperCase() + category.slice(1)} Examples</h2>`;
        
        const grid = document.createElement('div');
        grid.className = 'demo-grid';

        categoryDemos.forEach(demo => {
          const card = document.createElement('a');
          card.href = demo.path;
          card.className = 'demo-card';
          card.innerHTML = `
            <div class="demo-icon">${demo.icon}</div>
            <h3>${demo.name}</h3>
            <p>${demo.description}</p>
            <div class="demo-badges">
              ${demo.badges.map(badge => `<span class="badge ${badge.replace('-', '')}">${badge === 'es-modules' ? 'ES Modules' : badge === 'new' ? 'New' : badge}</span>`).join('')}
            </div>
            <ul class="demo-features">
              ${demo.features.slice(0, 3).map(f => `<li>${f}</li>`).join('')}
            </ul>
          `;
          grid.appendChild(card);
        });

        section.appendChild(grid);
        container.appendChild(section);
      });
    }

    // Search functionality
    searchInput.addEventListener('input', (e) => {
      searchQuery = e.target.value;
      renderDemos();
    });

    // Filter functionality
    filterButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        filterButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentCategory = btn.getAttribute('data-category');
        renderDemos();
      });
    });

    // Initial render
    renderDemos();
  </script>
</body>
</html>

